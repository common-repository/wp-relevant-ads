(function(e){"use strict";e(function(){var t=(e("#post").validate({errorPlacement:function(e,t){var a=t.siblings("button");1==a.length&&(t=a),t.after(e)},messages:{"_wp_relevant_ads_hooks[]":{required:wp_relevant_ads_params.hook_required_text},"_wp_relevant_ads_trigger_dom[]":{required:wp_relevant_ads_params.dom_required_text}},rules:{"_wp_relevant_ads_hooks[]":{required:function(t){return"hook"==e("select[name=_wp_relevant_ads_trigger_rule]").val()&&!e(t).val()&&!e("#_wp_relevant_ads_hooks_custom").val()}},_wp_relevant_ads_trigger_dom:{required:function(t){return"dom"==e("select[name=_wp_relevant_ads_trigger_rule]").val()&&e(t).is(":empty")}},_wp_relevant_ads_pre_sale_page:{required:function(t){return!!e("#_wp_relevant_ads_call_action").prop("checked")&&!e(t).val()}}},ignore:".ignore",onfocusout:!1,onkeyup:!1,onclick:!1}),e('select[name=_wp_relevant_ads_trigger_other_dom], select[name="_wp_relevant_ads_hooks[]"]'));e("option",t).each(function(){if(0!==e(this).text().indexOf("_PARENT_")){t.find("optGroup").last().append(e(this));var a=e(this).text(),_=e(this).val();e(this).text(a.substr(a.indexOf("|")+1)),e(this).val(_.substr(_.indexOf("|")+1))}else e("<optGroup/>").attr("label",e(this).text().substr(8)).appendTo(e(this).parent()),e(this).remove()});var a=wp_relevant_ads_params.ad_tax_terms,_=[];"undefined"!=typeof a&&a&&e.each(a,function(e,t){_[e]=t});var r="";e("select.wp_relevant_ads_taxonomies").each(function(){var t=e(this).attr("name");r='<optgroup label="'+e(this).attr("label")+'">',e("option",this).each(function(){var a="",s=e(this).val().split("|");e.inArray(s[1],_[t])>-1&&(a="selected"),r+='<option value="'+e(this).val()+'" '+a+">"+e(this).text()+"</option>"}),r+="</optgroup>",e("select.wp_relevant_ads_multiple.wp_relevant_ads_terms").append(r),e(this).parents("tr:first").remove()});var s=wp_relevant_ads_params.ad_hooks;e('select[name="_wp_relevant_ads_hooks[]"]').val(s),e(".wp_relevant_ads_trigger").parents("tr").hide(),e("select[name=_wp_relevant_ads_trigger_rule]").change(function(){e(".wp_relevant_ads_trigger").removeClass("required"),e(".wp_relevant_ads_trigger").parents("tr").hide(),e(".wp_relevant_ads_trigger_"+e(this).val()).parents("tr").fadeIn(),e(".tip-show").hide(),"widget"==e(this).val()&&(e("select[name=_wp_relevant_ads_display]").val("wp_relevant_ads_clear"),e("select[name=_wp_relevant_ads_display]").closest("tr").hide()),e("select[name=_wp_relevant_ads_display]").closest("tr").show()}),e("select[name=_wp_relevant_ads_trigger_rule]").trigger("change");var l=[];e("select[name=_wp_relevant_ads_trigger_other_dom] option").each(function(){l.push(e(this).val())}),e("select[name=_wp_relevant_ads_trigger_other_dom]").change(function(){e("#_wp_relevant_ads_trigger_dom").val(e(this).val())}),e(".wp_relevant_ads_trigger_dom").keyup(function(){e.inArray(e(this).val(),l)<0?e("select[name=_wp_relevant_ads_trigger_other_dom] option:last-child").prop("selected",!0):e("select[name=_wp_relevant_ads_trigger_other_dom]").val(e(this).val())});var s=wp_relevant_ads_params.ad_hooks;e('select[name="_wp_relevant_ads_hooks[]"]').val(s);var n=wp_relevant_ads_params.ad_roles;e('select[name="_wp_relevant_ads_roles[]"]').val(n),e("select.wp_relevant_ads_multiple.wp_relevant_ads_terms").select2({placeholder:wp_relevant_ads_params.select_taxonomies,closeOnSelect:!1,width:"35em"}),e("select.wp_relevant_ads_multiple.wp_relevant_ads_roles").select2({placeholder:wp_relevant_ads_params.select_option,closeOnSelect:!1,width:"35em"}),e("select.wp_relevant_ads_trigger_type").select2({closeOnSelect:!1,width:"15em"}),e("select.wp_relevant_ads_trigger_hook").select2({placeholder:wp_relevant_ads_params.select_hooks,closeOnSelect:!1,width:"35em"}),e("#datepicker-field").datepicker({dateFormat:wp_relevant_ads_params.date_format,changeMonth:!0,changeYear:!0,showButtonPanel:!0}),e(".clear_expire_date").click(function(){return e("input[name=_wp_relevant_ads_expire_date]").val(""),!1})})})(jQuery);